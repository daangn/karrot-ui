{
  "name": "segmented-control",
  "dependencies": ["@seed-design/react-tabs@alpha"],
  "registries": [
    {
      "name": "segmented-control.tsx",
      "type": "ui",
      "content": "\"use client\";\n\nimport \"@seed-design/stylesheet/segmentedControl.css\";\nimport {\n  useTabs,\n  type TriggerProps,\n  type UseTabsProps,\n} from \"@seed-design/react-tabs\";\nimport * as React from \"react\";\nimport clsx from \"clsx\";\nimport {\n  segmentedControl,\n  type SegmentedControlVariantProps,\n} from \"@seed-design/recipe/segmentedControl\";\nimport type { Assign } from \"../util/types\";\nexport interface SegmentedControlProps extends SegmentedControlVariantProps {}\n\nconst TabsContext = React.createContext<{\n  api: ReturnType<typeof useTabs>;\n} | null>(null);\n\nconst useTabsContext = () => {\n  const context = React.useContext(TabsContext);\n  if (!context)\n    throw new Error(\n      \"SegmentedControlOption cannot be rendered outside the SegmentedControl\",\n    );\n\n  return context;\n};\n\nexport interface SegmentedControlProps\n  extends SegmentedControlVariantProps,\n    Pick<UseTabsProps, \"value\" | \"defaultValue\" | \"onValueChange\"> {}\n\ntype ReactSegmentedControlProps = SegmentedControlProps &\n  Assign<React.HTMLAttributes<HTMLDivElement>, UseTabsProps>;\n\nexport const SegmentedControl = React.forwardRef<\n  // HTMLFieldSetElement,\n  HTMLDivElement,\n  ReactSegmentedControlProps\n>(({ className, children, style, ...otherProps }, ref) => {\n  const api = useTabs(otherProps);\n  const { tabIndicatorProps, rootProps } = api;\n\n  // TODO: value/defaultvalue 없는 경우 첫 번째 아이템으로 default (tabs 참고)\n\n  const classNames = segmentedControl();\n\n  return (\n    <div\n      style={{\n        ...style,\n        // XXX: tabCount 썼을 때 hydration 문제\n        gridTemplateColumns: `repeat(${React.Children.count(children)}, 1fr)`,\n        ...{\n          \"--seed-design-segmented-control-indicator-left\":\n            \"var(--seed-design-tab-indicator-left)\",\n          \"--seed-design-segmented-control-indicator-width\":\n            \"var(--seed-design-tab-indicator-width)\",\n          \"--seed-design-segmented-control-camera-width\":\n            \"var(--seed-design-tab-camera-width)\",\n          \"--seed-design-segmented-control-index\":\n            \"var(--seed-design-tab-index)\",\n        },\n      }}\n      className={clsx(classNames.root, className)}\n      ref={ref}\n      {...rootProps}\n      {...otherProps}\n    >\n      <TabsContext.Provider value={{ api }}>{children}</TabsContext.Provider>\n      <div\n        aria-hidden\n        className={classNames.indicator}\n        {...tabIndicatorProps}\n      />\n    </div>\n  );\n});\nSegmentedControl.displayName = \"SegmentedControl\";\n\nexport interface SegmentedControlTriggerProps\n  extends SegmentedControlVariantProps,\n    Omit<TriggerProps, \"isDisabled\"> {}\n\ntype ReactSegmentedControlTriggerProps = Assign<\n  React.HTMLAttributes<HTMLButtonElement>,\n  SegmentedControlTriggerProps\n>;\n\nexport const SegmentedControlTrigger = React.forwardRef<\n  HTMLButtonElement,\n  ReactSegmentedControlTriggerProps\n>(({ className, children, value, ...otherProps }, ref) => {\n  const {\n    api: { getTabTriggerProps },\n  } = useTabsContext();\n\n  const { rootProps, labelProps } = getTabTriggerProps({ value });\n  const classNames = segmentedControl();\n\n  return (\n    <button\n      ref={ref}\n      className={clsx(classNames.trigger, className)}\n      {...rootProps}\n      {...otherProps}\n    >\n      <div className={classNames.triggerLabel} {...labelProps}>\n        {children}\n      </div>\n      <div aria-hidden className={classNames.triggerLabelPlaceholder}>\n        {children}\n      </div>\n    </button>\n  );\n});\n\nSegmentedControlTrigger.displayName = \"SegmentedControlOption\";\n"
    }
  ]
}
