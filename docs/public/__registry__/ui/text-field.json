{
  "name": "text-field",
  "dependencies": [
    "@seed-design/react-text-field",
    "@daangn/react-monochrome-icon",
    "@radix-ui/react-slot"
  ],
  "registries": [
    {
      "name": "text-field.tsx",
      "type": "ui",
      "content": "\"use client\";\n\nimport \"@seed-design/stylesheet/textField.css\";\n\nimport * as React from \"react\";\nimport clsx from \"clsx\";\nimport {\n  textField,\n  type TextFieldVariantProps,\n} from \"@seed-design/recipe/textField\";\nimport { IconExclamationmarkCircleFill } from \"@daangn/react-monochrome-icon\";\nimport {\n  useTextField,\n  type UseTextFieldProps,\n} from \"@seed-design/react-text-field\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport type { Assign } from \"../util/types\";\n\nexport interface TextFieldProps\n  extends UseTextFieldProps,\n    TextFieldVariantProps {\n  label?: string;\n  requiredIndicator?: string;\n  optionalIndicator?: string;\n\n  prefix?: React.ReactNode;\n  suffix?: React.ReactNode;\n\n  description?: string;\n  errorMessage?: string;\n\n  maxGraphemeCount?: number;\n  hideGraphemeCount?: boolean;\n}\n\ntype ReactTextFieldProps = Assign<\n  Omit<React.InputHTMLAttributes<HTMLInputElement>, \"children\" | \"maxLength\">,\n  TextFieldProps\n>;\n\nexport const TextField = React.forwardRef<\n  HTMLInputElement,\n  ReactTextFieldProps\n>(\n  (\n    {\n      size = \"medium\",\n      label,\n      requiredIndicator,\n      optionalIndicator,\n      prefix,\n      suffix,\n      hideGraphemeCount,\n      ...restProps\n    },\n    ref,\n  ) => {\n    const {\n      rootProps: { className: rootClassName, ...rootProps },\n      inputProps: { className: inputClassName, ...inputProps },\n      labelProps: { className: labelClassName, ...labelProps },\n      descriptionProps,\n      errorMessageProps,\n      stateProps,\n      restProps: restInternalProps,\n      isInvalid,\n      isRequired,\n      graphemes,\n    } = useTextField(restProps);\n\n    const { description, errorMessage, maxGraphemeCount } = restProps;\n\n    const classNames = textField({ size });\n\n    const indicator = isRequired ? requiredIndicator : optionalIndicator;\n\n    const renderDescription = !isInvalid && description;\n    const renderErrorMessage = isInvalid && !!errorMessage;\n    const renderCharacterCount = !hideGraphemeCount && maxGraphemeCount;\n\n    return (\n      <div\n        className={clsx(classNames.root, rootClassName)}\n        {...rootProps}\n        {...stateProps}\n      >\n        {label && (\n          // XXX\n          // biome-ignore lint/a11y/noLabelWithoutControl: <explanation>\n          <label {...labelProps} className={classNames.header}>\n            <span className={clsx(classNames.label, labelClassName)}>\n              {label}\n            </span>\n            {indicator && (\n              <span className={classNames.indicator}>{indicator}</span>\n            )}\n          </label>\n        )}\n        <div {...stateProps} className={clsx(classNames.input)}>\n          {prefix &&\n            (typeof prefix === \"string\" ? (\n              <div className={classNames.prefixText}>{prefix}</div>\n            ) : (\n              <Slot {...stateProps} className={clsx(classNames.prefixIcon)}>\n                {prefix}\n              </Slot>\n            ))}\n          <input\n            ref={ref}\n            className={clsx(classNames.inputText, inputClassName)}\n            {...inputProps}\n            {...restInternalProps}\n          />\n          {suffix &&\n            (typeof suffix === \"string\" ? (\n              <div className={classNames.suffixText}>{suffix}</div>\n            ) : (\n              <Slot {...stateProps} className={clsx(classNames.suffixIcon)}>\n                {suffix}\n              </Slot>\n            ))}\n        </div>\n        {(renderDescription || renderErrorMessage || renderCharacterCount) && (\n          <div className={classNames.footer}>\n            {renderDescription && (\n              <div {...descriptionProps} className={classNames.description}>\n                {description}\n              </div>\n            )}\n            {renderErrorMessage && (\n              <div {...errorMessageProps} className={classNames.errorMessage}>\n                <IconExclamationmarkCircleFill\n                  className={classNames.errorIcon}\n                />\n                <div>{errorMessage}</div>\n              </div>\n            )}\n            {renderCharacterCount && (\n              <div className={classNames.graphemeCount}>\n                <span\n                  {...stateProps}\n                  className={classNames.currentGraphemeCount}\n                >\n                  {graphemes.length}\n                </span>\n                <span className={classNames.maxGraphemeCount}>\n                  /{maxGraphemeCount}\n                </span>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  },\n);\nTextField.displayName = \"TextField\";\n"
    }
  ]
}